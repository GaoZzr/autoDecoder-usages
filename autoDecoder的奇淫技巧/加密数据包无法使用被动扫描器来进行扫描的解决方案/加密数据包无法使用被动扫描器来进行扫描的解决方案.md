---
typora-root-url: ./photo
typora-copy-images-to: ./photo
---

## 遇到加密数据包 无法使用被动扫描器来进行扫描解决方案

加密数据无法直接加入payload进行漏洞测试 需要先进行解密 在加入payload进行漏洞测试 

大体原理如图：

![image-20240510172249881](/image-20240510172249881.png)

图中的xiasql可以替换成任意的burp插件或者xray等可以被动扫描的工具

## 具体实现

BurpA需要主要配置内容

​	1、下游代理BurpB的监听端口

![image-20240510184031244](/image-20240510184031244.png)

​	2、加解密接口需要互换

![image-20240510184137081](/image-20240510184137081.png)

​	3、明文密文关键字互换

![image-20240510184204063](/image-20240510184204063.png)

BurpB无需复杂的配置按照正常逻辑配置即可

## 案例

![image-20240510184823699](/image-20240510184823699.png)

发现数据为加密 写脚本 配置autodecoder插件



BurpA配置如下

![image-20240510184941968](/image-20240510184941968.png)

![image-20240510184953514](/image-20240510184953514.png)

BurpB autodecoder配置

![image-20240510185112609](/image-20240510185112609.png)![image-20240510185112631](/image-20240510185112631.png)

![image-20240510185408106](/image-20240510185408106.png)





开启burpA的xiasql等被动扫描插件 然后在点击各个功能点进行被动测试

![image-20240510185618653](/image-20240510185618653.png)

![image-20240510185836736](/image-20240510185836736.png)

xiasql正常发送数据包



BurpB收到的数据包为明文 通过加密会发送到服务端

![image-20240510190039659](/image-20240510190039659.png)
